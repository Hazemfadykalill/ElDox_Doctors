"use strict";(self.webpackChunkVeseeta=self.webpackChunkVeseeta||[]).push([[332],{5332:(h,c,s)=>{s.r(c),s.d(c,{EditDoctorsComponent:()=>g});var l=s(6814),e=s(95),r=s(4219),t=s(9468),m=s(1520),a=s(1120);const u=["inputItem"];function _(d,f){if(1&d&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&d){const o=f.$implicit;t.Q6J("value",o.id),t.xp6(1),t.Oqu(o.name)}}let g=(()=>{class d{constructor(o,n){this._adminSelect=o,this.editId=n,this.firstName="",this.lastName="",this.addForm=new e.cw({doctorId:new e.NI("",[e.kI.required]),photoPath:new e.NI(""),firstName:new e.NI("",[e.kI.required]),lastName:new e.NI("",[e.kI.required]),email:new e.NI("",[e.kI.required]),phone:new e.NI("",[e.kI.required]),gender:new e.NI("",[e.kI.required]),dateOfBirth:new e.NI("",[e.kI.required]),specializationId:new e.NI("",[e.kI.required])})}ngOnInit(){this.allSpecialize(),this.editId.paramMap.subscribe({next:o=>{this.id=o.get("id"),this._adminSelect.aboutDoctorsById(o.get("id")).subscribe({next:n=>{this.doctorData=n,this.firstName=n.fullName.split(" ")[0],this.lastName=n.fullName.split(" ")[1],this.email=n.email,this.gender=n.gender,console.log(n),this.phone=n.phone}})}})}onFileSelect(o){this.file=o.target.files[0],this.path=this.file.name}onSubmit(){this.addForm.value.doctorId=Number(this.id),this.addForm.value.specializationId=25,this.addForm.value.photoPath=this.path,this.addForm.value.PhotoPath=this.path;const o=new FormData;o.append("Image",this.file,this.file.name),o.append("doctorId",this.addForm.value.doctorId),o.append("photoPath",this.addForm.value.photoPath),o.append("firstName",this.addForm.value.firstName),o.append("lastName",this.addForm.value.lastName),o.append("email",this.addForm.value.email),o.append("phone",this.addForm.value.phone),o.append("gender",this.addForm.value.gender),o.append("dateOfBirth",this.addForm.value.dateOfBirth),o.append("specializationId",this.addForm.value.specializationId),this._adminSelect.editDoctors(o).subscribe({next:n=>{const i=new r.s5;i.setTitle(" Attention!!"),i.setMessage("Doctor Edit Successfully! "),i.setConfig({autoCloseDelay:2e3,textPosition:"left",layoutType:r.nM.SUCCESS,progressBar:r.T5.INCREASE,toastUserViewType:r.r0.STANDARD,animationIn:r.AF.ZOOM_IN_ROTATE,animationOut:r.HP.FLIP_OUT,toastPosition:r.ht.TOP_CENTER,allowHtmlMessage:!0}),i.openToastNotification$(),this.clearInput()},error:n=>{const i=new r.s5;i.setTitle("Attention!!"),i.setMessage("Doctor Edit Something Wrong!"),i.setConfig({autoCloseDelay:2e3,textPosition:"left",layoutType:r.nM.DANGER,progressBar:r.T5.INCREASE,toastUserViewType:r.r0.STANDARD,animationIn:r.AF.ZOOM_IN_ROTATE,animationOut:r.HP.FLIP_OUT,toastPosition:r.ht.TOP_CENTER,allowHtmlMessage:!0}),i.openToastNotification$()}})}clearInput(){this.allInput.forEach(o=>o.nativeElement.value="")}allSpecialize(){this._adminSelect.getAllSpecializations().subscribe({next:o=>{this.listSpecialize=o}})}static#t=this.\u0275fac=function(n){return new(n||d)(t.Y36(m.l),t.Y36(a.gz))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-edit-doctors"]],viewQuery:function(n,i){if(1&n&&t.Gf(u,5),2&n){let p;t.iGM(p=t.CRH())&&(i.allInput=p)}},standalone:!0,features:[t.jDz],decls:35,vars:8,consts:[[1,"add-doctors","shadow","w-75","mx-auto","rounded-3","my-5","p-3"],[1,"h"],[1,"main-title","my-4","mx-auto"],[3,"formGroup","ngSubmit"],[1,"image"],["type","file","id","image","placeholder","Image..",3,"change"],[1,"Name","d-flex","gap-2"],["formControlName","firstName","type","text","id","fName","placeholder","FirstName..",3,"value"],["inputItem",""],["formControlName","lastName","type","text","id","LName","placeholder","LastName..",3,"value"],[1,"email"],["formControlName","email","type","email","id","email","placeholder","Email..",3,"value"],[1,"SpecializationId"],["formControlName","specializationId","type","number","list","idSpecialize","id","SpecializationId","placeholder","SpecializationId.."],["id","idSpecialize"],[3,"value",4,"ngFor","ngForOf"],[1,"phone"],["formControlName","phone","type","text","placeholder","Phone",3,"value"],[1,"genderInput"],["formControlName","gender","type","text","list","gender-list","placeholder","Gender",1,"my-2","mx-auto",3,"value"],[1,"Date"],["formControlName","dateOfBirth","type","text","placeholder","Date Of Birth",3,"value"],[1,"buttons","d-flex","justify-content-center","gap-3"],[1,"btnAddForm","text-uppercase","rounded-4","mt-3",3,"click"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Edit Doctors"),t.qZA()()(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"div",4)(7,"input",5),t.NdJ("change",function(D){return i.onFileSelect(D)}),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"input",7,8)(11,"input",9,8),t.qZA(),t.TgZ(13,"div",10),t._UZ(14,"input",11,8),t.qZA(),t.TgZ(16,"div",12),t._UZ(17,"input",13,8),t.TgZ(19,"datalist",14),t.YNc(20,_,2,2,"option",15),t.qZA()(),t.TgZ(21,"div",16),t._UZ(22,"input",17,8),t.qZA(),t.TgZ(24,"div",18),t._UZ(25,"input",19,8),t.qZA(),t.TgZ(27,"div",20),t._UZ(28,"input",21,8),t.qZA()(),t.TgZ(30,"div",22)(31,"button",23),t.NdJ("click",function(){return i.onSubmit()}),t._uU(32,"EDIT Doctor"),t.qZA(),t.TgZ(33,"button",23),t.NdJ("click",function(){return i.clearInput()}),t._uU(34,"Clear"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("formGroup",i.addForm),t.xp6(4),t.Q6J("value",i.firstName),t.xp6(2),t.Q6J("value",i.lastName),t.xp6(3),t.Q6J("value",i.email),t.xp6(6),t.Q6J("ngForOf",i.listSpecialize),t.xp6(2),t.Q6J("value",i.phone),t.xp6(3),t.Q6J("value",null==i.doctorData?null:i.doctorData.gender),t.xp6(3),t.Q6J("value",null==i.doctorData?null:i.doctorData.dateOfBirth))},dependencies:[l.ez,l.sg,e.UX,e._Y,e.YN,e.Kr,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u],styles:[".main-title[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.main-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}input[_ngcontent-%COMP%]{width:100%;margin:15px 0;font-size:20px;padding:15px;color:#fff;background-color:#11111d;border:1px solid #3b3b58;border-radius:10px;cursor:pointer}input[_ngcontent-%COMP%]::placeholder{color:#fff}input[_ngcontent-%COMP%]:focus{outline:0}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover{border:1px solid yellow}[_ngcontent-%COMP%]::-webkit-file-upload-button{color:#000;background-color:#fff;padding:10px;border-radius:15px;box-shadow:1px 0 1px 1px #6b4559;outline:none;border:none;margin-right:15px;-webkit-transition:all .5s;transition:all .5s;cursor:pointer}[_ngcontent-%COMP%]::-webkit-file-upload-button:hover{background-color:#198754;color:#fff}.btnAddForm[_ngcontent-%COMP%]{background-color:#198754;color:#fff;padding:20px 15px;border:none;outline:none;transition:all .5s;cursor:pointer}.btnAddForm[_ngcontent-%COMP%]:hover{background-color:#11111d;color:#fff}"]})}return d})()},1520:(h,c,s)=>{s.d(c,{l:()=>r});var l=s(9862),e=s(9468);let r=(()=>{class t{constructor(a){this._http=a,this.httpOptions={headers:new l.WM({pagination:"application/json"}),observe:"response"},this.baseURL="https://localhost:7198/api/",this.headers=new l.WM({Authorization:"Bearer "+localStorage.getItem("tokenAdmin")})}getTopDoctors(){return this._http.get(this.baseURL+"Dashboard/Top10Doctors")}getTopSpecializations(){return this._http.get(this.baseURL+"Dashboard/Top5Specializations")}getNumDoctors(a="Last24Hours"){return this._http.get(this.baseURL+`Dashboard/NumOfDoctors?search=${a}`)}getNumPatient(a="Last24Hours"){return this._http.get(this.baseURL+`Dashboard/NumOfPatients?search=${a}`)}getNumOfRequest(a="Last24Hours"){return this._http.get(this.baseURL+`Dashboard/NumOfRequests?search=${a}`)}getAllDoctorsAdmin(a,u){return this._http.get(this.baseURL+`Doctors/AdminGetAll?page=${a}&pageSize=${u}`,this.httpOptions)}getAllDoctorsAdminSearch(a){return this._http.get(this.baseURL+`Doctors/AdminGetAll?SpecializeId=${a}`,{observe:"response",headers:new l.WM({pagination:"application/json"}),responseType:"blob"})}aboutDoctorsById(a){return this._http.get(this.baseURL+`Doctors/GetById/${a}`)}deleteDoctorById(a){return this._http.delete(this.baseURL+`Doctors/Delete/${a}`,{headers:{Authorization:"Bearer "+localStorage.getItem("tokenAdmin")}})}addDoctors(a){return this._http.post(this.baseURL+"Doctors/Add",a)}getAllSpecializations(){return this._http.get(this.baseURL+"Specializations/GetAll")}getAllSpecializationsByName(a){return this._http.get(this.baseURL+`Specializations/FindByName?NameQuery=${a}`)}editDoctors(a){return this._http.put(this.baseURL+"Doctors/Edit",a)}static#t=this.\u0275fac=function(u){return new(u||t)(e.LFG(l.eN))};static#e=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);