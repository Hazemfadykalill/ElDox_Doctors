"use strict";(self.webpackChunkVeseeta=self.webpackChunkVeseeta||[]).push([[571,486,125],{3571:(f,p,s)=>{s.r(p),s.d(p,{AllCouponsComponent:()=>v});var a=s(6814),e=s(4219),_=s(251),d=s(6748),t=s(9468),c=s(6486);function C(r,g){if(1&r){const o=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.editCoupons(i.id,i.numOfRequests,i.discountCode,i.value))}),t._UZ(1,"i",15),t.qZA()}}function A(r,g){if(1&r){const o=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.deActiveCoupons(i.id))}),t._UZ(1,"i",17),t.qZA()}}function h(r,g){if(1&r){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"table",7)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Code"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"No.Request"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"DiscountType"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Value"),t.qZA()()(),t.TgZ(14,"tbody")(15,"tr")(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()()()()(),t.TgZ(24,"div",8),t.YNc(25,C,2,0,"div",9),t.TgZ(26,"div",10)(27,"div",11),t.NdJ("click",function(){const l=t.CHM(o).$implicit,u=t.oxw();return t.KtG(u.deleteCoupons(l.id))}),t._UZ(28,"i",12),t.qZA(),t.YNc(29,A,2,0,"div",13),t.qZA()()()()}if(2&r){const o=g.$implicit;t.xp6(1),t.Tol("True"==o.active.toString()?"active":"unActive"),t.xp6(16),t.Oqu(o.discountCode),t.xp6(2),t.Oqu(o.numOfRequests),t.xp6(2),t.Oqu(o.discountType),t.xp6(2),t.Oqu(o.value),t.xp6(2),t.Q6J("ngIf",o.active),t.xp6(4),t.Q6J("ngIf","True"==o.active.toString())}}let v=(()=>{class r{constructor(o){this._CouponsService=o}ngOnInit(){this.allCoupons()}allCoupons(){this._CouponsService.getAllCoupons().subscribe({next:o=>{this.listAllCoupons=o},error:o=>{console.log(o)}})}deleteCoupons(o){this._CouponsService.Delete(o).subscribe({next:n=>{this.allCoupons()},error:n=>{console.log(n)}})}editCoupons(o,n,i,l){const u=new e.d4(_.UpdateCouponsComponent);u.setCustomData({id:o,NoReq:n,code:i,val:l}),u.setConfig({width:"500px",layoutType:e.nM.SUCCESS}),u.setButtons([new e.AC("Edit","edit",e.Qw.DARK),new e.AC("Cancel","cancel",e.Qw.WARNING)]),u.openDialog$().subscribe(m=>{console.log("dialog response: ",m)})}deActiveCoupons(o){this._CouponsService.deActive(o).subscribe({next:n=>{this.allCoupons()},error:n=>{console.log(n)}})}Add(){const o=new e.d4(d.AddCouponsComponent);o.setConfig({width:"500px",layoutType:e.nM.SUCCESS}),o.setButtons([new e.AC("Add","add",e.Qw.DARK),new e.AC("Cancel","cancel",e.Qw.WARNING)]),o.openDialog$().subscribe(n=>{console.log("dialog response: ",n)})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(c.H))};static#o=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-all-coupons"]],standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"add","text-end","mt-3"],[3,"click"],[1,"row","g-4","justify-content-center","my-3"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"coupons","rounded-4","shadow"],[1,"tab","w-75","mx-auto","m-3","overflow-hidden"],[1,"table","text-center"],[1,"footerIcons","d-flex","justify-content-center","gap-4","my-3"],["class","constIcon d-flex justify-content-center align-items-center bg-warning text-white",3,"click",4,"ngIf"],[1,"changeIcon","d-flex","gap-4"],[1,"constIcon","d-flex","justify-content-center","align-items-center","bg-danger","text-white",3,"click"],[1,"fas","fa-trash-alt"],["class","constIcon d-flex justify-content-center align-items-center",3,"click",4,"ngIf"],[1,"constIcon","d-flex","justify-content-center","align-items-center","bg-warning","text-white",3,"click"],[1,"fas","fa-edit"],[1,"constIcon","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fas","fa-eye"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return i.Add()}),t._uU(2,"ADD COUPONS"),t.qZA()(),t.TgZ(3,"div",2),t.YNc(4,h,30,8,"div",3),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngForOf",i.listAllCoupons))},dependencies:[a.ez,a.sg,a.O5],styles:[".row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0}.row[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:1px solid green;background-color:green}.row[_ngcontent-%COMP%]   .unActive[_ngcontent-%COMP%]{background-color:#000;border:1px solid #000}.row[_ngcontent-%COMP%]   .footerIcons[_ngcontent-%COMP%]   .constIcon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#fff;color:#000}.row[_ngcontent-%COMP%]   .footerIcons[_ngcontent-%COMP%]   .constIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;cursor:pointer}.add[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#000;padding:15px 20px;margin:10px;border:0;border-radius:10px;color:#fff;font-weight:700;cursor:pointer}"]})}return r})()},6486:(f,p,s)=>{s.d(p,{H:()=>_});var a=s(9468),e=s(9862);let _=(()=>{class d{constructor(c){this._http=c,this.baseURL="https://localhost:7198/api/"}getAllCoupons(){return this._http.get(this.baseURL+"Coupons/GetAll")}deActive(c){return this._http.put(this.baseURL+`Coupons/Deactivate/${c}`,{headers:{Authorization:"Bearer "+localStorage.getItem("tokenAdmin")}})}Delete(c){return this._http.delete(this.baseURL+`Coupons/Delete/${c}`,{headers:{Authorization:"Bearer "+localStorage.getItem("tokenAdmin")}})}Edit(c){return this._http.put(this.baseURL+"Coupons/Update",c,{headers:{Authorization:"Bearer "+localStorage.getItem("tokenAdmin")}})}add(c){return this._http.post(this.baseURL+"Coupons/Add",c)}static#t=this.\u0275fac=function(C){return new(C||d)(a.LFG(e.eN))};static#o=this.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);